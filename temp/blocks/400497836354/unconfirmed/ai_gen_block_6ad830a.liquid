{% doc %}
  @prompt
    Create a section based on 'Multicolumn' which allows me to insert my own sections, such as 'Product Specifications' inside it as a column. Don't worry about the styling for now, just use the regular multicolumn element and make as few changes as possible. Only 2 columns are necessary for now.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-multicolumn-container-{{ ai_gen_id }} {
    display: block;
    width: 100%;
  }

  .ai-multicolumn-grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }

  .ai-multicolumn-column-{{ ai_gen_id }} {
    min-width: 0;
  }

  @media screen and (max-width: 749px) {
    .ai-multicolumn-grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
    }
  }
{% endstyle %}

<multicolumn-wrapper-{{ ai_gen_id }} class="ai-multicolumn-container-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-multicolumn-grid-{{ ai_gen_id }}">
    <div class="ai-multicolumn-column-{{ ai_gen_id }}">
      {% for block in block.blocks %}
        {% if forloop.index == 1 %}
          {% render block %}
        {% endif %}
      {% endfor %}
    </div>
    <div class="ai-multicolumn-column-{{ ai_gen_id }}">
      {% for block in block.blocks %}
        {% if forloop.index == 2 %}
          {% render block %}
        {% endif %}
      {% endfor %}
    </div>
  </div>
</multicolumn-wrapper-{{ ai_gen_id }}>

<script>
  (function() {
    class MulticolumnWrapper{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
      }
    }
    customElements.define('multicolumn-wrapper-{{ ai_gen_id }}', MulticolumnWrapper{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Multicolumn wrapper",
  "tag": null,
  "settings": [],
  "blocks": [
    {
      "type": "@app"
    }
  ],
  "presets": [
    {
      "name": "Multicolumn wrapper"
    }
  ]
}
{% endschema %}
